@if (userState$ | async; as state ) {
@switch (state.appState) {
@case ('APP_LOADING') {
<div class="d-flex justify-content-center mt-4">
  <div class="container-spinner text-center">
    <div class="spinner-border text-secondary" role="status">
      <span class="visually-hidden"></span>
    </div>
    <span class="d-block">Loading...</span>
  </div>
</div>
}
@case ('APP_LOADED') {
<div class="container">
  <div class="row">
    <div class="col-md-12 mt-3">
      <h3 class="mt-3 mb-5">Lista de usuarios</h3>
      @if (state.appData!.data.content.length > 0) {
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Imagen</th>
            <th scope="col">Nombre</th>
            <th scope="col">Correo</th>
            <th scope="col">Teléfono</th>
            <th scope="col">Estado</th>
            <th scope="col">Dirección</th>
          </tr>
        </thead>
        <tbody class="table-group-divider">
          @for (user of state.appData!.data.content; track $index) {
          <tr>
            <th scope="row">{{ $index + 1 }}</th>
            <td><img [src]="user.imageUrl" [alt]="user.name" class="rounded-circle img-small"></td>
            <td>{{ user.name }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.phone }}</td>
            <td><span [ngClass]="user.status | userStatus">{{ user.status }}</span></td>
            <td>{{ user.address }}</td>
          </tr>
          }
        </tbody>
      </table>
      } @else {
      <div class="alert alert-warning" role="alert">¡No users found!</div>
      }
    </div>
  </div>
</div>
}
@case ('APP_ERROR') {
<div class="alert alert-danger">
  There was an error
</div>
<pre>{{ state.error | json }}</pre>
}
}
}
